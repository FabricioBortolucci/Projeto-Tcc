<table id="prodTable"
       th:fragment="itensCompraTable"
       class="table table-dark table-striped table-hover table-bordered table-sm caption-top">
    <caption class="fs-6">Produtos Adicionados à Compra</caption>
    <thead>
    <tr>
        <th style="width:10%">Id Produto</th>
        <th>Nome</th>
        <th class="text-center">Preço Custo</th>
        <th class="text-center">Quantidade</th>
        <th class="text-center">Subtotal</th>
        <th class="text-center">Opções</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="item, iter : ${compra.itemCompraList}" th:id="'item-' + ${iter.index}">
        <td th:text="${item.produto.id}"></td>
        <td th:text="${item.produto.nome}"></td>
        <td th:text="${#numbers.formatCurrency(item.valorUnitario)}"></td>
        <td th:text="${item.quantidade}"></td>
        <td th:text="${#numbers.formatCurrency(item.subTotal)}"></td>
        <td>
            <div class="d-flex justify-content-center gap-1 action-button-wrapper">
                <button class="btn btn-danger btn-sm" title="Remover Item"
                        onclick="formatarValorParaDecimal(document.getElementById('valorCusto'))"
                        th:hx-delete="@{/compra/cadastro/remover-item/{index}(index=${iter.index})}"
                        hx-target="#prodTable"
                        hx-swap="outerHTML">
                    <i class="bi bi-trash-fill"></i>
                </button>
            </div>
        </td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
        <td colspan="4" class="text-end fw-bold">Valor Total da Compra:</td>
        <td id="valorTotalCompraTfoot" class="text-end fw-bold"
            th:text="${#numbers.formatCurrency(compra.calculaValorTotalItens)}"></td>
        <td></td>
    </tr>
    </tfoot>
</table>