<!-- Created with Jaspersoft Studio version 7.0.1.final using JasperReports Library version 7.0.1-573496633c2b4074e32f433154b543003f7d2498  -->
<jasperReport name="relatorio_DRE" language="java" columnCount="1" pageWidth="595" pageHeight="842" orientation="Landscape" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="dc333486-5706-443c-8ae6-9a65a9206996">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Produto"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="condicao" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="dataInicio" class="java.time.LocalDateTime"/>
	<parameter name="dataFim" class="java.time.LocalDateTime"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<query language="SQL"><![CDATA[select c.mov_comp_id,
       c.comp_status,
       c.mov_comp_data,
       c.mov_comp_data_finalizada,
       c.mov_comp_data_cancelamento,
       c.total_parcelas,
       c.mov_comp_valor_total,
       c.comp_tipopagamento,
       c.comp_planopagamento,
       fornecedor.pes_nome,
       fornecedor.pes_id
from compra c
         left join pessoa fornecedor on c.fornecedor_id = fornecedor.pes_id
where c.mov_comp_data between  $P{dataInicio} and  $P{dataFim} 
 $P!{condicao} ]]></query>
	<field name="mov_comp_id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="mov_comp_id"/>
		<property name="com.jaspersoft.studio.field.label" value="mov_comp_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="comp_status" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comp_status"/>
		<property name="com.jaspersoft.studio.field.label" value="comp_status"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="mov_comp_data" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="mov_comp_data"/>
		<property name="com.jaspersoft.studio.field.label" value="mov_comp_data"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="mov_comp_data_finalizada" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="mov_comp_data_finalizada"/>
		<property name="com.jaspersoft.studio.field.label" value="mov_comp_data_finalizada"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="mov_comp_data_cancelamento" class="java.sql.Timestamp">
		<property name="com.jaspersoft.studio.field.name" value="mov_comp_data_cancelamento"/>
		<property name="com.jaspersoft.studio.field.label" value="mov_comp_data_cancelamento"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="total_parcelas" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="total_parcelas"/>
		<property name="com.jaspersoft.studio.field.label" value="total_parcelas"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="mov_comp_valor_total" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="mov_comp_valor_total"/>
		<property name="com.jaspersoft.studio.field.label" value="mov_comp_valor_total"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="comp_tipopagamento" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comp_tipopagamento"/>
		<property name="com.jaspersoft.studio.field.label" value="comp_tipopagamento"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="comp_planopagamento" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comp_planopagamento"/>
		<property name="com.jaspersoft.studio.field.label" value="comp_planopagamento"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="compra"/>
	</field>
	<field name="pes_nome" class="java.lang.String">
		<description><![CDATA[Nome completo da pessoa]]></description>
		<property name="com.jaspersoft.studio.field.name" value="pes_nome"/>
		<property name="com.jaspersoft.studio.field.label" value="pes_nome"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="pessoa"/>
	</field>
	<field name="pes_id" class="java.lang.Long">
		<description><![CDATA[Identificador da pessoa]]></description>
		<property name="com.jaspersoft.studio.field.name" value="pes_id"/>
		<property name="com.jaspersoft.studio.field.label" value="pes_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="pessoa"/>
	</field>
	<group name="fornecedor" keepTogether="true" preventOrphanFooter="true">
		<expression><![CDATA[$F{pes_id}]]></expression>
		<groupHeader>
			<band height="43">
				<element kind="rectangle" uuid="ae4f96d2-24fa-4291-b4dd-b115d67faae4" x="8" y="17" width="222" height="19" forecolor="rgba(0, 0, 0, 0.0)" backcolor="#DEDEDE" radius="6"/>
				<element kind="textField" uuid="9b3be079-d8cd-4fdd-bce5-e585e010fcbd" x="14" y="16" width="214" height="18" fontSize="14.0" bold="true" hTextAlign="Left" vTextAlign="Middle">
					<expression><![CDATA[$F{pes_nome}]]></expression>
					<box>
						<topPen lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineStyle="Solid" lineColor="#000000"/>
					</box>
				</element>
				<element kind="line" uuid="a4a1a047-2d2e-4790-9f32-5bded8384d9d" x="230" y="25" width="325" height="1" forecolor="rgba(99, 99, 99, 0.18431373)"/>
			</band>
		</groupHeader>
	</group>
	<title height="72">
		<element kind="frame" uuid="983e13e0-383d-4a74-b8e8-bfa675850230" mode="Opaque" x="-20" y="-20" width="595" height="92" backcolor="#006699">
			<element kind="staticText" uuid="c36b1792-166a-444d-acc7-490de1071092" x="20" y="20" width="230" height="20" forecolor="#FFFFFF" backcolor="#FFFFFF" fontSize="14.0" bold="true">
				<text><![CDATA[Relatório de Compras Por Período]]></text>
			</element>
			<element kind="staticText" uuid="efb2e48a-ce82-4a21-b4f6-f10e68ad2374" x="464" y="10" width="120" height="20" forecolor="#FFFFFF" fontSize="14.0" bold="false" hTextAlign="Right">
				<text><![CDATA[Oficina - Bortolucci]]></text>
			</element>
			<element kind="textField" uuid="26341dfa-1446-4da6-8887-f4e6f1162b81" x="9" y="70" width="221" height="16" forecolor="#FFFFFF" bold="true">
				<expression><![CDATA["De " + $P{dataInicio} + " Até " + $P{dataFim}]]></expression>
			</element>
		</element>
	</title>
	<pageHeader/>
	<detail>
		<band height="216">
			<element kind="rectangle" uuid="77b88e05-4d0c-4f06-8ccf-6907842107ca" x="0" y="0" width="554" height="189" radius="4">
				<pen lineColor="rgba(0, 0, 0, 0.078431375)"/>
			</element>
			<element kind="staticText" uuid="5e9218be-1f32-4803-989a-6a1ddc0aec6f" x="5" y="12" width="79" height="18" fontSize="14.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Compra ID:]]></text>
			</element>
			<element kind="staticText" uuid="9f61d602-ee99-46fe-9269-8f96eb53c981" x="300" y="46" width="70" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Data Abertura]]></text>
			</element>
			<element kind="staticText" uuid="84517aac-444c-4270-b6f4-40cf6db5808f" x="370" y="46" width="84" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Data Fechamento]]></text>
			</element>
			<element kind="staticText" uuid="cfa65fbb-ceeb-4332-85ce-37c44a059b03" x="230" y="46" width="70" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Status]]></text>
			</element>
			<element kind="textField" uuid="b3aed5f2-a8df-4c0f-b06d-5be2c407ab79" x="84" y="12" width="70" height="18" fontSize="14.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{mov_comp_id}]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="875e23bb-3d4f-4fcd-bcec-a4ac069719be" x="300" y="62" width="70" height="16" fontSize="8.0" pattern="dd/MM/yyyy" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{mov_comp_data}]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="3db46938-fae4-4810-b072-2f7782bc5551" x="370" y="62" width="84" height="16" fontSize="8.0" pattern="dd/MM/yyyy" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{mov_comp_data_finalizada} != null ? $F{mov_comp_data_finalizada} : "N/A"]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="89cfe04b-ed76-4cca-a055-79782ac358e3" x="230" y="62" width="70" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{comp_status}.equals("ABERTA") ? "Aberta" : $F{comp_status}.equals("FINALIZADA") ? "Finalizada" : $F{comp_status}.equals("CANCELADA") ? "Cancelada" : ""]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="staticText" uuid="e876dbf7-eccb-4ae3-b6e5-5d0157032105" x="455" y="46" width="98" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Data Cancelamento]]></text>
			</element>
			<element kind="textField" uuid="441d3f8f-a7cd-4cb6-b305-29b86975c75f" x="455" y="62" width="98" height="16" fontSize="8.0" pattern="dd/MM/yyyy" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{mov_comp_data_cancelamento} != null ? $F{mov_comp_data_cancelamento} : "N/A"]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="line" uuid="557d2a7b-72f0-49b1-bdd3-464420eb3369" x="0" y="62" width="555" height="1" forecolor="rgba(99, 99, 99, 0.18431373)"/>
			<element kind="line" uuid="03761153-bf61-475d-85b2-2d555698565e" x="5" y="30" width="149" height="1">
				<pen lineStyle="Dashed"/>
			</element>
			<element kind="staticText" uuid="b3161771-7119-4c96-87ed-df6d7d03f0d1" x="1" y="200" width="98" height="16" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Valor Total Compra:]]></text>
			</element>
			<element kind="textField" uuid="89facad3-7adb-4b5a-a20d-71690d43f48c" x="99" y="200" width="90" height="16" pattern="R$ #,##0.00;R$ -#,##0.00" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{mov_comp_valor_total}]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="textField" uuid="24f6de0c-49ba-4061-9e78-bd210bfee119" x="160" y="62" width="70" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{total_parcelas}]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="staticText" uuid="e10b9eb8-1ee9-4751-a8c0-504e987250ac" x="160" y="46" width="70" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Total Parcelas]]></text>
			</element>
			<element kind="staticText" uuid="443b332a-b91d-4788-bf69-60c1fc4f7bbf" x="81" y="46" width="80" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Tipo Pagamento]]></text>
			</element>
			<element kind="textField" uuid="a475e475-bd56-46cc-b33a-0f2b37015b4c" x="81" y="62" width="80" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{comp_tipopagamento}]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="staticText" uuid="34e80e52-315d-4392-a8b8-031134a95403" x="0" y="46" width="80" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<text><![CDATA[Plano Pagamento]]></text>
			</element>
			<element kind="textField" uuid="0b44c54a-0098-4a37-8fce-87fac94d8247" x="0" y="62" width="80" height="16" fontSize="8.0" bold="true" hTextAlign="Center" vTextAlign="Middle">
				<expression><![CDATA[$F{comp_planopagamento}]]></expression>
				<box>
					<topPen lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineStyle="Solid" lineColor="#000000"/>
				</box>
			</element>
			<element kind="subreport" uuid="ccbca48e-5a99-4d70-988d-e59cc2a9ddc0" x="1" y="90" width="552" height="99">
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<expression><![CDATA[ $P{SUBREPORT_DIR} + "prodCompra_subreport.jasper"]]></expression>
				<parameter name="condicao">
					<expression><![CDATA[$P{condicao}]]></expression>
				</parameter>
				<parameter name="dataInicio">
					<expression><![CDATA[$P{dataInicio}]]></expression>
				</parameter>
				<parameter name="dataFim">
					<expression><![CDATA[$P{dataFim}]]></expression>
				</parameter>
				<parameter name="compraID">
					<expression><![CDATA[$F{mov_comp_id}]]></expression>
				</parameter>
			</element>
		</band>
	</detail>
	<columnFooter/>
	<pageFooter height="40">
		<element kind="line" uuid="d9bdbe90-4ca4-49b6-ae9f-406da94859c5" x="1" y="0" width="554" height="1">
			<pen lineStyle="Dashed"/>
		</element>
		<element kind="textField" uuid="5b1f9286-121a-463d-96f0-f6616002d91e" x="0" y="0" width="200" height="20" evaluationTime="Report" vTextAlign="Bottom">
			<expression><![CDATA["Gerado em: " + new java.text.SimpleDateFormat("dd/MM/yyyy HH:mm").format(new java.util.Date())]]></expression>
		</element>
		<element kind="textField" uuid="11c14bb3-97d9-4a95-843b-d3d73be4ad12" x="455" y="0" width="100" height="20" hTextAlign="Right" vTextAlign="Bottom">
			<expression><![CDATA["Página " + $V{PAGE_NUMBER}]]></expression>
		</element>
	</pageFooter>
</jasperReport>
